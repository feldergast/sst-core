\documentclass[11pt,letterpaper]{report}

\usepackage[utf8]{inputenc}
\usepackage[english]{babel}
\usepackage[english]{isodate}
\usepackage[parfill]{parskip}
\usepackage{listings}
\usepackage{xcolor}
\usepackage{graphicx}
\usepackage{subfigure}
\usepackage{hanging}


\addtolength{\oddsidemargin}{-.75in}
\addtolength{\evensidemargin}{-.75in}
\addtolength{\textwidth}{1.5in}

\addtolength{\topmargin}{-.75in}
\addtolength{\textheight}{1.5in}


%% The following are functions/macros to make regions where
%% underscores don't have to be escaped with \.  One version,
%% \escapeunderscore{} will replace all underscores found with
%% \textunderscore.  The version \escapeunderscoremath{} will replace
%% all underscores, except those in a math region defined by $ $ with
%% \textunderscore.
\makeatletter
%\newcommand{\escapeunderscoremath}[1]{\expandafter\@find@math#1$\relax}

%% \def\@find@math#1$#2\relax{%
%%   \ifx \relax #2\relax
%%     % #2 is empty, so just call @escape@underscores.  Need to add _ to
%%     % #end so it can terminate if it doesn't find one.
%%     %\typeout{No symbol found}
%%     \@escape@underscore#1_\relax%
%%   \else
%%     % Output what we've seen already, including the $
%%     \@escape@underscore#1_\relax%
%%     $
%%     % Need to look for end $.  There's already a $ at end, so no need
%%     % to add one
%%     \@end@math#2\relax
%%   \fi
%% }

%% \def\@end@math#1$#2\relax{%
%%   \typeout{#1}
%%   \typeout{#2}
%%   \ifx \relax #2\relax
%%     % #2 is empty, this is an error condition
%%     #1%
%%   \else
%%     % Simply output text followed by $
%%     #1%
%%     $
%%      % Now, look for more math sections
%%     \@find@math#2\relax
%%   \fi
%% }      
    
% \expandafter for the case that the filename is given in a command
\newcommand{\escapeunderscores}[1]{\expandafter\@escape@underscore#1_\relax}

\def\@escape@underscore#1_#2\relax{%
    \ifx \relax #2\relax
        % #2 is empty => finish
        #1%
    \else
        % #2 is not empty => underscore was contained, needs to be replaced
        #1%
        \textunderscore
        % continue replacing
        % #2 ends with an extra underscore so I don't need to add another one
        \@escape@underscore#2\relax
    \fi
}
\makeatother
%% End of underscore macros


%% colors for code listings

% color of function signature in functiondoc environment
\definecolor{funcdef}{HTML}{0047AB}
% background color for example code listings
\definecolor{codeexbkg}{HTML}{F7EFDE}
%\definecolor{codeexbkg}{HTML}{F7E7CE}
%\definecolor{codeexbkg}{HTML}{708090}

% syntax colors:
\definecolor{keywordcolor}{HTML}{008000} % dark green
%\definecolor{commentcolor}{HTML}{D2B48C} % tan
%\definecolor{commentcolor}{HTML}{918151} % dark tan
\definecolor{commentcolor}{HTML}{88794C} % dark tan
%\definecolor{stringcolor}{HTML}{FFA500} % orange
\definecolor{stringcolor}{HTML}{FF8C00} % dark orange
%\definecolor{identifiercolor}{HTML}{CC6677}
\definecolor{identifiercolor}{HTML}{993C4D}
\definecolor{builtincolor}{HTML}{009ACD}

\lstset{
    basicstyle=\small\ttfamily,
    %backgroundcolor=\color{yellow},
    %numbers=left, numberstyle=\tiny, stepnumber=2, numbersep=5pt,
    keywordstyle=\color{keywordcolor}\bfseries,
    commentstyle=\color{commentcolor}\textit,
    stringstyle=\color{stringcolor},
    %identifierstyle=\color{identifiercolor},
    %showstringspaces=false,
    %keywordstyle=\color{blue}\bfseries,
    %morekeywords={align,begin},
    %pos=l
}

%% used to create each item of the lists.  The variable field uses
%% \escapeunderscore, what comes after does not
\newcommand{\param}[1]{\item[\textbf{\escapeunderscores{#1}}]} 

%% this is used to specify the return value, which must be the last
%% item of the parameter list because it will end the description
%% environment.  You must use \returns or \noreturn.
\newcommand{\returns}[1]{\item[\textbf{returns}] #1 \end{description}}

%% this is used to specify there is no return value, which must be the
%% last item of the parameter list because it will end the description
%% environment.  You must use \returns or \noreturn.
\newcommand{\noreturn}{\item[\textbf{returns}] no return value \end{description}} %%%% this is used to create each item of the lists
%%%% the monotype font is used to ensure consistent horizontal spacing


%\newenvironment{parameters} %%%% this adjusts spacing as I desire
%    %%{\begin{itemize}[leftmargin=*] \itemsep2pt \parskip0pt \parsep0pt}
%    {\begin{description}}
%    {\end{description}} 


%% Environment used to document a function.  This will keep the format
%% uniform.

%%   First argument: type signature of function being documented.
%%   This will be wrapped in \escapeunderscore{} to avoid having to
%%   use \_, since we use underscores regularly in variable names.

%%   Second argument: description of the function.  Since this may be
%%   multiple paragraphs, it is not wrapped in \escapeunderscore{}.
%%   You can do this manually for each paragraph if you don't want to
%%   use \_, or you can just use \_.
\newenvironment{functiondoc}[2]% environment name 
{% begin code 
  \par\vspace{\baselineskip}%\noindent

  {

    \begin{hangparas}{.25in}{1}
    %% \raggedright is because we often have long variable names and
    %% we want it to wrap early rather than overflow line
    \raggedright\large\bfseries\color{funcdef}\escapeunderscores{#1}
    \end{hangparas}
  }
  
  #2

  \textbf{\underline{Parameters}:} %

  \begin{description} %\leftmargin=1in
    \setlength{\listparindent}{\parindent}%
    \setlength{\itemindent}{\parindent}%
    \setlength{\parsep}{\parskip}%

  
  %\par\vspace{\baselineskip}\noindent\ignorespaces 
}% 
{% end code
  %\end{description}%\ignorespacesafterend
  %%\hrulefill
  \par\vspace{\baselineskip}%\noindent
}

\lstdefinestyle{mypython} {
  language=Python,
  otherkeywords={self},
  keywords=[100]{True,False,None},
  keywordstyle={[100]\color{builtincolor}},  
}
    
\lstnewenvironment{pycodeexample}[2][]{%
  \thicklines
  \lstset{
    style=mypython,
    backgroundcolor=\color{codeexbkg},
    %rulecolor=\color{green!40!black},
    frameround=tttt,
    frame=single,
    emph=[100]{#2},
    emphstyle={[100]\color{identifiercolor}},
    %basicstyle=\ttfamily\small,
    %basewidth=0.50em,
    %keywordstyle=\bfseries,
    #1%
  }
}{}



\title{SST Core Python Module Manual}
\date{\today}

\begin{document}
\maketitle
\newpage

\pagenumbering{Roman}

%\tableofcontents
%\newpage
%\listoffigures
%\newpage
%\listoftables
%\newpage
\pagenumbering{arabic}

\chapter{Introduction}

SST provides a python module to allow interaction with the simulation
build system.  This python module is used in the input python script
for the purpose of building the graph that represents the simulation
to be performed.  This is done by providing class and functions to
define the elements of the simluation, their parameters, and how they
are interconnected.  The user can also optionally enable statistics
and create a user specified partitioning for the described model.
Behind the scenes, these classes will build the c++ data structure
that is used by SST to construct the simulation model.

The SST core python module is defined in cpython and is only
available in the python interpreter launched within a running SST
executable.  The module is accessed by importing the sst module.  This
can be done in a number of ways.  The two most common being:

\begin{lstlisting}
# Import SST python module using sst. prefix
import sst
# Import SST python module members into current namespace
from sst import *
\end{lstlisting}

Within this module, there are a number of available classes and global
functions.  The available classes are: Component, SubComponent, Link,
StatisticOutput and StatisticGroup.  The global functions are divided
between general functions and functions operating on or returning one
of the available objects.  This document will first discuss the
available classes in the SST python module and will then document the
global functions.


\input{classes.tex}

\input{globals.tex}
\end{document}
